{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\GameElements/assets\\Script\\GameElements\\MODCharacterFeet.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","Component","properties","rigidBody","standing","onLoad","node","tag","Tag","Others","addComponent","RigidBody","enabledContactListener","gravityScale","collider","PhysicsBoxCollider","sensor","size","Size","density","apply","start","update","dt","onBeginContact","contact","selfCollider","otherCollider","Ground","Player","onEndContact","onPreSolve","onPostSolve"],"mappings":";;;;;;AACA,IAAIA,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;;AAEAG,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU,IADF;AAERC,kBAAS;AAFD,KAHP;AAOLC,YAAO,kBAAU;AACb,aAAKC,IAAL,CAAUC,GAAV,GAAgBV,OAAOW,GAAP,CAAWC,MAA3B;AACA,aAAKN,SAAL,GAAiB,KAAKG,IAAL,CAAUI,YAAV,CAAuBZ,GAAGa,SAA1B,CAAjB;AACA;AACA,aAAKR,SAAL,CAAeS,sBAAf,GAAwC,IAAxC;AACA,aAAKT,SAAL,CAAeU,YAAf,GAA8B,CAA9B;AACA;;AAEA,YAAIC,WAAW,KAAKR,IAAL,CAAUI,YAAV,CAAuBZ,GAAGiB,kBAA1B,CAAf;AACAD,iBAASE,MAAT,GAAkB,IAAlB;AACAF,iBAASG,IAAT,GAAgB,IAAInB,GAAGoB,IAAP,CAAY,GAAZ,EAAgB,CAAhB,CAAhB;AACAJ,iBAASK,OAAT,GAAmB,CAAnB;AACAL,iBAASM,KAAT;AACH,KApBI;AAqBLC,WAAO,iBAAY;AACf;;;AAIA;;;;AAIH,KA9BI;;AAgCL;AACAC,YAAQ,gBAAUC,EAAV,EAAc;AAClB;;;;AAIH,KAtCI;;AA0CLC,oBAAgB,wBAAUC,OAAV,EAAmBC,YAAnB,EAAiCC,aAAjC,EAAgD;AAC5D,YAAGA,cAAcrB,IAAd,CAAmBC,GAAnB,IAA0BV,OAAOW,GAAP,CAAWoB,MAArC,IAA+CD,cAAcrB,IAAd,CAAmBC,GAAnB,IAA0BV,OAAOW,GAAP,CAAWqB,MAAvF,EAA8F;AAC1F,iBAAKzB,QAAL,IAAe,CAAf;AACH;AACJ,KA9CI;;AAgDL;AACA0B,kBAAc,sBAAUL,OAAV,EAAmBC,YAAnB,EAAiCC,aAAjC,EAAgD;AAC1D,YAAGA,cAAcrB,IAAd,CAAmBC,GAAnB,IAA0BV,OAAOW,GAAP,CAAWoB,MAArC,IAA+CD,cAAcrB,IAAd,CAAmBC,GAAnB,IAA0BV,OAAOW,GAAP,CAAWqB,MAAvF,EAA8F;AAC1F,iBAAKzB,QAAL,IAAe,CAAf;AACH;AACJ,KArDI;;AAuDL;AACA2B,gBAAY,oBAAUN,OAAV,EAAmBC,YAAnB,EAAiCC,aAAjC,EAAgD;AACxD;AACH,KA1DI;;AA4DL;AACAK,iBAAa,qBAAUP,OAAV,EAAmBC,YAAnB,EAAiCC,aAAjC,EAAgD;AACzD;AACH;AA/DI,CAAT","file":"MODCharacterFeet.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\GameElements","sourcesContent":["\nvar o0 = require('o0');\nvar o0CC = require('o0CC');\nvar o0Game = require('o0Game');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        rigidBody:null,\n        standing:0,\n    },\n    onLoad:function(){\n        this.node.tag = o0Game.Tag.Others;\n        this.rigidBody = this.node.addComponent(cc.RigidBody);\n        //this.rigidBody.fixedRotation = true;\n        this.rigidBody.enabledContactListener = true;\n        this.rigidBody.gravityScale = 0;\n        //this.rigidBody.type = cc.RigidBodyType.Static;\n        \n        var collider = this.node.addComponent(cc.PhysicsBoxCollider);\n        collider.sensor = true;\n        collider.size = new cc.Size(110,1);\n        collider.density = 0;\n        collider.apply();\n    },\n    start: function () {\n        //o0CC.log('sdaada');\n        \n        \n        \n        /*var joint = this.node.addComponent(cc.WeldJoint);\n        joint.connectedBody = this.bodyRigidBody;\n        joint.anchor = cc.v2(0,40);\n        joint.apply();/** */\n    },\n\n    // called every frame\n    update: function (dt) {\n        /*\n        if(this.standing > 0){\n            cc.log(this.standing);\n        }/** */\n    },\n\n    \n\n    onBeginContact: function (contact, selfCollider, otherCollider) {\n        if(otherCollider.node.tag == o0Game.Tag.Ground || otherCollider.node.tag == o0Game.Tag.Player){\n            this.standing+=1;\n        }\n    },\n\n    // 只在两个碰撞体结束接触时被调用一次\n    onEndContact: function (contact, selfCollider, otherCollider) {\n        if(otherCollider.node.tag == o0Game.Tag.Ground || otherCollider.node.tag == o0Game.Tag.Player){\n            this.standing-=1;\n        }\n    },\n\n    // 每次将要处理碰撞体接触逻辑时被调用\n    onPreSolve: function (contact, selfCollider, otherCollider) {\n        //cc.log(this.standing);\n    },\n\n    // 每次处理完碰撞体接触逻辑时被调用\n    onPostSolve: function (contact, selfCollider, otherCollider) {\n        //cc.log(this.standing);\n    }\n});\n\n\n"]}